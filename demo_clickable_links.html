<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clickable Links Demo - RAG Chatbot</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --background: #0f172a;
            --surface: #1e293b;
            --text-primary: #f1f5f9;
            --text-secondary: #94a3b8;
            --border-color: #334155;
            --assistant-message: #374151;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background-color: var(--background);
            color: var(--text-primary);
            line-height: 1.6;
            padding: 20px;
            margin: 0;
        }

        .demo-container {
            max-width: 800px;
            margin: 0 auto;
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            margin-bottom: 30px;
        }

        .message {
            background: var(--assistant-message);
            border-radius: 12px;
            padding: 16px;
            margin-bottom: 20px;
            border-left: 4px solid var(--primary-color);
        }

        .message-content {
            margin-bottom: 12px;
        }

        .sources-collapsible {
            border: none;
            background: none;
            color: var(--text-secondary);
        }

        .sources-collapsible summary {
            cursor: pointer;
            font-weight: 600;
            margin-bottom: 8px;
            color: var(--text-secondary);
        }

        .sources-collapsible summary:hover {
            color: var(--primary-color);
        }

        .sources-content {
            padding: 0 0.5rem 0.25rem 1.5rem;
            color: var(--text-secondary);
        }

        .source-link {
            color: var(--primary-color);
            text-decoration: none;
            transition: color 0.2s ease;
        }

        .source-link:hover {
            color: var(--primary-hover);
            text-decoration: underline;
        }

        .demo-note {
            background: var(--surface);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 16px;
            margin-bottom: 20px;
            color: var(--text-secondary);
        }

        .demo-note h3 {
            color: var(--primary-color);
            margin: 0 0 10px 0;
        }
    </style>
</head>
<body>
    <div class="demo-container">
        <h1>ðŸŽ¯ Clickable Links Demo - RAG Chatbot</h1>
        
        <div class="demo-note">
            <h3>Demo Overview</h3>
            <p>This demonstrates how the chatbot now displays source citations as <strong>clickable links</strong> that open lesson videos in new tabs. The URLs are invisible - only the course and lesson names are shown as link text.</p>
        </div>

        <div class="message assistant">
            <div class="message-content">
                <p><strong>User:</strong> "What are the key concepts in machine learning?"</p>
                <p><strong>Assistant:</strong> Machine learning involves three main types: supervised learning (learning from labeled data), unsupervised learning (finding patterns in unlabeled data), and reinforcement learning (learning through trial and error with rewards). Key concepts include training data, algorithms, model validation, and overfitting prevention.</p>
            </div>
            
            <details class="sources-collapsible" open>
                <summary class="sources-header">Sources</summary>
                <div class="sources-content">
                    <a href="https://www.youtube.com/watch?v=example1" target="_blank" class="source-link">Introduction to AI - Lesson 1</a>, 
                    <a href="https://www.youtube.com/watch?v=example2" target="_blank" class="source-link">Machine Learning Fundamentals - Lesson 3</a>, 
                    Deep Learning Course - Lesson 2
                </div>
            </details>
        </div>

        <div class="message assistant">
            <div class="message-content">
                <p><strong>User:</strong> "How do neural networks work?"</p>
                <p><strong>Assistant:</strong> Neural networks are inspired by the human brain and consist of interconnected nodes (neurons) organized in layers. Information flows forward through the network, with each connection having a weight that determines its influence. The network learns by adjusting these weights during training using backpropagation.</p>
            </div>
            
            <details class="sources-collapsible" open>
                <summary class="sources-header">Sources</summary>
                <div class="sources-content">
                    <a href="https://www.youtube.com/watch?v=neural-nets-101" target="_blank" class="source-link">Deep Learning Course - Lesson 4</a>, 
                    <a href="https://www.youtube.com/watch?v=backprop-explained" target="_blank" class="source-link">Advanced AI Concepts - Lesson 2</a>
                </div>
            </details>
        </div>

        <div class="message assistant">
            <div class="message-content">
                <p><strong>User:</strong> "What is gradient descent?"</p>
                <p><strong>Assistant:</strong> Gradient descent is an optimization algorithm used to minimize the cost function in machine learning models. It works by iteratively moving in the direction of the steepest descent (negative gradient) to find the minimum error. The learning rate controls how big steps the algorithm takes.</p>
            </div>
            
            <details class="sources-collapsible" open>
                <summary class="sources-header">Sources</summary>
                <div class="sources-content">
                    <a href="https://www.coursera.org/learn/machine-learning/lecture/gradient" target="_blank" class="source-link">Machine Learning Fundamentals - Lesson 5</a>, 
                    Mathematics for ML - Lesson 3
                </div>
            </details>
        </div>

        <div class="demo-note">
            <h3>âœ¨ Key Features Demonstrated:</h3>
            <ul>
                <li><strong>Clickable Links:</strong> Blue-colored source citations that you can click</li>
                <li><strong>New Tab Opening:</strong> Links open lesson videos in new tabs (try clicking them!)</li>
                <li><strong>Invisible URLs:</strong> Only course/lesson names are shown, not the actual URLs</li>
                <li><strong>Hover Effects:</strong> Links show underlines when you hover over them</li>
                <li><strong>Mixed Sources:</strong> Some sources have links, others don't (graceful fallback)</li>
                <li><strong>Collapsible Sources:</strong> Click "Sources" to expand/collapse the citation list</li>
            </ul>
        </div>

        <div class="demo-note">
            <h3>ðŸ”§ Implementation Details:</h3>
            <p>The backend now returns source objects like <code>{"text": "Course Name - Lesson 1", "link": "https://..."}</code> instead of just strings. The frontend renders these as clickable HTML links while maintaining backward compatibility with the old string format.</p>
        </div>
    </div>

    <script>
        // Simulate the actual JavaScript logic that would run in the app
        console.log("Demo: Source links are now clickable and open in new tabs!");
        
        // Count clickable vs non-clickable sources
        const links = document.querySelectorAll('.source-link');
        const totalSources = document.querySelectorAll('.sources-content').length;
        console.log(`Found ${links.length} clickable source links across ${totalSources} responses`);
    </script>
</body>
</html>